package main

/*
// 头文件的位置，相对于源文件是当前目录，所以是 .，头文件在多个目录时写多个  #cgo CFLAGS: ...
#cgo CFLAGS: -I./FeatureData_FeatureIdentify_d
// 从哪里加载动态库，位置与文件名，-ladd 加载 libadd.so 文件
#cgo LDFLAGS: -L./FeatureData_FeatureIdentify_d -lFeatureData_FeatureIdentify -ltest -Wl,-rpath,FeatureData_FeatureIdentify_d
#include "FeatureData_FeatureIdentify.h"
#include "rtwtypes.h"
#include "rt_nonfinite.h"
#include "test.c"
*/
import "C"
import (
	"unsafe"
)

func main() {
	//定义二维数组
	arr:=[][]C.double{{1,110.4,0.03,0,837,1.05,1.1,1.15,1.05,1.1,0.15,0.2,1.25,0,713},{101,110.12,0.03,0,837,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{201,110.68,0.03,0,837,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{301,110.44,0.03,0,837,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{401,110.16,0.04,0,837,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{501,110.49,0.03,0,837,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{601,110.44,0.03,0,837,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{701,110.54,0.03,0,837,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{801,110.73,0.03,0,837,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{901,110.54,0.03,0,837,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{1001,110.68,0.08,0,837,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{1101,110.07,0.13,77,828,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{1201,108.15,0.46,145,817,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{1301,108.29,0.31,202,800,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{1401,109.18,0.18,217,778,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{1501,109.56,0.18,232,756,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{1601,109.7,0.2,232,732,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{1701,109.04,0.27,253,707,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{1801,108.95,0.34,258,681,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{1901,109.27,0.29,276,654,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{2001,109.09,0.22,291,625,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{2101,109.27,0.23,277,595,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{2201,109.32,0.18,287,567,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{2301,109.13,0.19,268,538,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{2401,109.32,0.19,281,510,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{2501,108.9,0.21,275,483,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{2601,109.32,0.17,275,454,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{2701,109.23,0.19,272,426,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{2801,109.18,0.2,277,397,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{2901,109.6,0.19,271,370,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{3001,109.51,0.18,281,341,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{3101,109.51,0.16,259,314,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{3201,110.02,0.14,248,287,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{3301,109.65,0.11,236,262,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{3401,110.16,0.1,214,239,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{3501,109.51,0.07,203,219,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{3601,110.4,0.07,180,199,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{3701,110.35,0.07,160,182,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{3801,110.16,0.05,146,165,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{3901,109.84,0.05,127,152,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{4001,110.35,0.07,113,140,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{4101,110.21,0.07,117,128,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{4201,109.37,0.15,98,118,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{4301,109.74,0.09,118,107,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{4401,109.6,0.12,122,94,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{4501,109.7,0.09,115,83,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{4601,109.74,0.2,112,71,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{4701,109.79,0.24,109,60,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{4801,107.68,0.65,167,45,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{4901,107.07,0.68,190,27,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{5001,107.78,0.75,174,7,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{5101,107.31,0.57,45,0,1.05,1.1,1.15,0.05,1.1,0.15,0.2,1.25,0,713},{5201,107.12,0.58,0,0,0.05,0.1,1.15,0.05,1.1,0.15,1.2,0.25,0,713},{5301,110.07,0.05,5,0,0.05,0.1,1.15,0.05,1.1,0.15,1.2,0.25,0,713},{5401,109.51,0.07,7,0,0.05,0.1,1.15,0.05,1.1,0.15,1.2,0.25,0,713},{5501,109.41,0.1,0,0,0.05,0.1,1.15,0.05,1.1,0.15,1.2,0.25,0,713},{5601,109.74,0.09,0,0,0.05,0.1,1.15,0.05,1.1,0.15,1.2,0.25,0,713},{5701,109.41,0.1,0,0,0.05,0.1,1.15,0.05,1.1,0.15,1.2,0.25,0,713},{5801,110.3,0.03,0,1,0.05,0.1,0.15,0.05,1.1,0.15,1.2,0.25,0,713},{5901,109.93,0.03,0,1,0.05,0.1,0.15,0.05,1.1,0.15,1.2,0.25,0,713},{6001,109.98,0.03,0,1,0.05,0.1,0.15,0.05,1.1,0.15,1.2,0.25,0,713},{6101,110.35,0.03,0,1,0.05,0.1,0.15,0.05,1.1,0.15,1.2,0.25,0,713}}

	//实例化实体，并传参二维数组首地址、行、列
	//C.emxCreateWrapper_real_T((*C.double)(unsafe.Pointer(&arr[0][0])),C.int(62),C.int(15))

	arr1 := []C.int{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
	C.FeatureData_FeatureIdentify(C.emxCreateWrapper_real_T((*C.double)(unsafe.Pointer(&arr[0][0])),C.int(62),C.int(15)),(*C.int)(unsafe.Pointer(&arr1[0])))

}